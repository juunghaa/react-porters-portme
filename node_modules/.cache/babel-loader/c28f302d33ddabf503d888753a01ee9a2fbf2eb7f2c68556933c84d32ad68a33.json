{"ast":null,"code":"var _jsxFileName = \"/Users/jun8ha/porters/src/pages/LoginPage.jsx\",\n  _s = $RefreshSig$();\n// src/pages/LoginPage.jsx\nimport React, { useState } from 'react';\nimport LoginForm from '../components/Auth/LoginForm';\nimport { signInWithEmailAndPassword } from 'firebase/auth';\nimport { auth } from '../firebase';\nimport { login } from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst handleLogin = async (email, password) => {\n  try {\n    const res = await login(email, password);\n    localStorage.setItem('access', res.access);\n    localStorage.setItem('refresh', res.refresh);\n    onLoginSuccess();\n  } catch (err) {\n    setLoginError(err.message);\n  }\n};\nexport default function LoginPage({\n  onLoginSuccess\n}) {\n  _s();\n  const [loginError, setLoginError] = useState('');\n  const handleLogin = (email, password) => {\n    // 백엔드 연동 코드 추가\n    signInWithEmailAndPassword(auth, email, password).then(userCredential => {\n      console.log('로그인 성공:', userCredential.user);\n      // 로그인 성공 시 상태 업데이트나 페이지 이동 추가 가능\n      onLoginSuccess(); //<<--상태업데이트페이지전환\n    }).catch(error => {\n      // setError('로그인 실패: ' + error.message);\n      console.log(error.code); // 코드 예: \"auth/user-not-found\", \"auth/wrong-password\"\n      if (error.code === \"auth/user-not-found\" || error.code === \"auth/wrong-password\") {\n        setLoginError(\"이메일 또는 비밀번호가 올바르지 않아요\");\n      } else {\n        setLoginError(\"로그인 중 오류가 발생했습니다\");\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(LoginForm, {\n    onSubmit: handleLogin,\n    loginError: loginError\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(LoginPage, \"/38XvAEdJ/tKbr57lP6DNyQKVnE=\");\n_c = LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useState","LoginForm","signInWithEmailAndPassword","auth","login","jsxDEV","_jsxDEV","handleLogin","email","password","res","localStorage","setItem","access","refresh","onLoginSuccess","err","setLoginError","message","LoginPage","_s","loginError","then","userCredential","console","log","user","catch","error","code","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/jun8ha/porters/src/pages/LoginPage.jsx"],"sourcesContent":["// src/pages/LoginPage.jsx\nimport React, { useState } from 'react';\nimport LoginForm from '../components/Auth/LoginForm';\nimport { signInWithEmailAndPassword } from 'firebase/auth';\nimport { auth } from '../firebase';\nimport { login } from '../api';\n\nconst handleLogin = async (email, password) => {\n    try {\n      const res = await login(email, password);\n      localStorage.setItem('access', res.access);\n      localStorage.setItem('refresh', res.refresh);\n      onLoginSuccess();\n    } catch (err) {\n      setLoginError(err.message);\n    }\n  };\n\nexport default function LoginPage({ onLoginSuccess }) {\n  const [loginError, setLoginError] = useState('');\n\n  const handleLogin = (email, password) => {\n    // 백엔드 연동 코드 추가\n    signInWithEmailAndPassword(auth, email, password)\n    .then((userCredential) => {\n        console.log('로그인 성공:', userCredential.user);\n        // 로그인 성공 시 상태 업데이트나 페이지 이동 추가 가능\n        onLoginSuccess(); //<<--상태업데이트페이지전환\n    })\n    .catch((error) => {\n        // setError('로그인 실패: ' + error.message);\n        console.log(error.code); // 코드 예: \"auth/user-not-found\", \"auth/wrong-password\"\n        if (\n            error.code === \"auth/user-not-found\" ||\n            error.code === \"auth/wrong-password\"\n        ) {\n            setLoginError(\"이메일 또는 비밀번호가 올바르지 않아요\");\n        } else {\n            setLoginError(\"로그인 중 오류가 발생했습니다\");\n        }\n    });   \n    };\n\n  return (\n    <LoginForm onSubmit={handleLogin} loginError={loginError} />\n  );\n}\n\n\n\n\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,SAAS,MAAM,8BAA8B;AACpD,SAASC,0BAA0B,QAAQ,eAAe;AAC1D,SAASC,IAAI,QAAQ,aAAa;AAClC,SAASC,KAAK,QAAQ,QAAQ;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/B,MAAMC,WAAW,GAAG,MAAAA,CAAOC,KAAK,EAAEC,QAAQ,KAAK;EAC3C,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMN,KAAK,CAACI,KAAK,EAAEC,QAAQ,CAAC;IACxCE,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAEF,GAAG,CAACG,MAAM,CAAC;IAC1CF,YAAY,CAACC,OAAO,CAAC,SAAS,EAAEF,GAAG,CAACI,OAAO,CAAC;IAC5CC,cAAc,CAAC,CAAC;EAClB,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZC,aAAa,CAACD,GAAG,CAACE,OAAO,CAAC;EAC5B;AACF,CAAC;AAEH,eAAe,SAASC,SAASA,CAAC;EAAEJ;AAAe,CAAC,EAAE;EAAAK,EAAA;EACpD,MAAM,CAACC,UAAU,EAAEJ,aAAa,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAEhD,MAAMO,WAAW,GAAGA,CAACC,KAAK,EAAEC,QAAQ,KAAK;IACvC;IACAP,0BAA0B,CAACC,IAAI,EAAEK,KAAK,EAAEC,QAAQ,CAAC,CAChDa,IAAI,CAAEC,cAAc,IAAK;MACtBC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEF,cAAc,CAACG,IAAI,CAAC;MAC3C;MACAX,cAAc,CAAC,CAAC,CAAC,CAAC;IACtB,CAAC,CAAC,CACDY,KAAK,CAAEC,KAAK,IAAK;MACd;MACAJ,OAAO,CAACC,GAAG,CAACG,KAAK,CAACC,IAAI,CAAC,CAAC,CAAC;MACzB,IACID,KAAK,CAACC,IAAI,KAAK,qBAAqB,IACpCD,KAAK,CAACC,IAAI,KAAK,qBAAqB,EACtC;QACEZ,aAAa,CAAC,uBAAuB,CAAC;MAC1C,CAAC,MAAM;QACHA,aAAa,CAAC,kBAAkB,CAAC;MACrC;IACJ,CAAC,CAAC;EACF,CAAC;EAEH,oBACEX,OAAA,CAACL,SAAS;IAAC6B,QAAQ,EAAEvB,WAAY;IAACc,UAAU,EAAEA;EAAW;IAAAU,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAEhE;AAACd,EAAA,CA5BuBD,SAAS;AAAAgB,EAAA,GAAThB,SAAS;AAAA,IAAAgB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}